# strelba
!gunpricel = 0 no sighting
!gunpricel = 1 sighting
!gunpricel = 2 very accurate

!gunpower Weapon damage
!buu the number of shots
!shoot shooting skills
:markstrelba
!Reita hit

buurand = RAND(0,100)
if buu = 0:xgt'fight','sta'

if shoot = 0:
	if gunpricel = 0:
		if buurand = 100:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 100:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 95:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 95:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 90:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 90:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot > 0 and shoot < 20:
	if gunpricel = 0:
		if buurand >= 95:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 95:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 90:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 90:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 85:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 85:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
end
if shoot >= 20 and shoot < 40:
	if gunpricel = 0:
		if buurand >= 90:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 90:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 85:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 85:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 80:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 80:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot >= 40 and shoot<60:
	if gunpricel = 0:
		if buurand >= 85:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 85:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 80:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 80:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 75:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 75:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot >= 60 and shoot < 80:
	if gunpricel = 0:
		if buurand >= 80:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 80:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 75:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 75:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 70:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 70:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot >= 80 and shoot < 100:
	if gunpricel = 0:
		if buurand >= 75:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 75:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 70:
			damage = gunpower
			jump'markstelokpopal'
		end
		if buurand < 70:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 65:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 65:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot >= 100 and shoot < 150:
	if gunpricel = 0:
		if buurand >= 70:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 70:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 65:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 65:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 60:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 60:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot >= 150 and shoot < 200:
	if gunpricel = 0:
		if buurand >= 65:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 65:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 60:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 60:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 55:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 55:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot >= 200 and shoot < 300:
	if gunpricel = 0:
		if buurand >= 60:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 60:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 55:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 55:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 45:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 45:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot >= 300 and shoot < 400:
	if gunpricel = 0:
		if buurand >= 55:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 55:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 50:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 50:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 45:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 45:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot >= 400 and shoot < 500:
	if gunpricel = 0:
		if buurand >= 50:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 50:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 45:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 45:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 40:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 40:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
elseif shoot >= 500:
	if gunpricel = 0:
		if buurand >= 45:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 45:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 1:
		if buurand >= 40:
			damage = gunpower
			jump'markstelokpopal'
		elseif buurand < 40:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	elseif gunpricel = 2:
		if buurand >= 35:
			damage = gunpower
			jump'markstelokpopal'
		end
		if buurand < 35:
			buu -= 1
			'Bloomer'
			jump'markstrelba'
		end
	end
end

:markstelokpopal
!if hit
!calculation of damage

if defenceV <= 0 and klonV <= 0 and unmaterialV <= 0 and barierV <= 0:
	if dospehV > 0:damage = damage - dospehDefV & dospehEnV = dospehEnV - 1
	if damage < 0:damage = 0
	healthV = healthV - damage
	Gcrimein += 1

	'<b><font color = green>Accept damage <<damage>> units</font></b>'

	if zerkaloV > 0:
		zerkaloV = zerkaloV - 1
		health = health - damage

		'<b><font color = red><<$nameV>> reflected the damage and you get <<damage>> points of damage</font></b>'
	end

	if buu = 0:xgt'fight','sta'
	if buu > 0:buu -= 1 & jump'markstrelba'
end

if defenceV > 0 and klonV <= 0 and unmaterialV <= 0:
	defenceV = defenceV - damage

	'<b><font color = green>Protection of the enemy suffered damage <<damage>> units</font></b>'

	if buu = 0:xgt'fight','sta'
	if buu > 0:buu -= 1 & jump'markstrelba'
end

if klonV > 0 and unmaterialV <= 0:
	klonV = klonV - 1

	'<b><font color = green>Destroyed enemy clone, he still had <<KlonV>> Clones</font></b>'

	if buu = 0:xgt'fight','sta'
	if buu > 0:buu -= 1 & jump'markstrelba'
end

if unmaterialV > 0:
	unmaterialV = unmaterialV - 1

	'<b><font color = red>Your bullet flew straight through the opponent`s body. <<$nameV>> Not material</font></b>'

	if buu = 0:xgt'fight','sta'
	if buu > 0:buu -= 1 & jump'markstrelba'
end

if barierV > 0:
	!imeniteta barrier for damage
	if barierV >= damage:
		'<b><font color = red><<$nameV>> easily withstood hit</font></b>'

		if buu = 0:xgt'fight','sta'
		if buu > 0:buu -= 1 & jump'markstrelba'
	elseif barierV < damage:
		healthV = healthV - damage
		Gcrimein += 1

		'<b><font color = green>Accept damage <<damage>> units</font></b>'

		if zerkaloV > 0:
			zerkaloV = zerkaloV - 1
			health = health - damage

			'<b><font color = red><<$nameV>> reflected the damage and you get <<damage>> points of damage</font></b>'
		end
	end

	if buu = 0:xgt'fight','sta'
	if buu > 0:buu -= 1 & jump'markstrelba'
end
--- strelba ---------------------------------

